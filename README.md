# SimpleEDTerraform

Qt 5.15 приложение для запроса данных о телах системы через EDSM API и отрисовки схемы связей (планеты, спутники, родительские тела).

## Возможности
- Запрос по названию системы (например, `Sol`).
- Загрузка списка тел из `https://www.edsm.net/api-system-v1/bodies`.
- Построение графа: кто кому родитель/спутник.
- Визуализация на `Qt Widgets` с подписями тел и линиями орбитальной иерархии.
- Автоматическая орбитальная классификация тел и всей системы.

## Новые типы орбитальной классификации
Классификатор анализирует `QHash<int, CelestialBody>` и добавляет метки для тел и системы:

- **бинарная звезда** — если у барицентра ровно два дочерних тела типа `Star`; 
  дочерние звёзды помечаются как «компонент бинарной звезды», а барицентр как «барицентр бинарной звезды».
- **иерархическая пара пар** — если два (или более) барицентра бинарных звёздных пар имеют общего родителя-барицентр;
  родитель получает метку «барицентр иерархической пары пар».
- **circumbinary planet** — если у планеты непосредственный родитель — барицентр бинарной звёздной пары.

В интерфейсе:
- в верхней части сцены показывается список обнаруженных типов системы;
- у каждого тела в подписи перечисляются присвоенные метки;
- `circumbinary planet` выделяется отдельным цветом.

## Выбор источника данных
Теперь пользователь может выбрать источник в интерфейсе перед загрузкой:
- **Авто (EDSM + Spansh по индексу)** — сначала EDSM возвращает индекс системы, затем Spansh запрашивается по этому индексу; при наличии данных приоритет у Spansh.
- **Только EDSM** — данные запрашиваются только из EDSM, без fallback.
- **Только Spansh** — перед запросом к Spansh индекс системы определяется через EDSM.

## Сборка
```bash
cmake -S . -B build
cmake --build build
```

## Запуск
```bash
./build/SimpleEDTerraform
```
